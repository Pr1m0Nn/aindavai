<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quadro de Avisos</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background-image: url('fundo.png');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            margin: 0;
            padding: 20px;
            overflow: hidden;
            min-height: 100vh;
        }
        
        .central-text {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2em;
            color: white;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            z-index: 10;
            background-color: rgba(0, 0, 0, 0.6);
            padding: 20px 40px;
            border-radius: 15px;
            max-width: 80%;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }
        
        .post-it {
            position: absolute;
            width: 200px;
            height: 200px;
            padding: 15px;
            box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.3);
            cursor: move;
            user-select: none;
            overflow: hidden;
            transition: transform 0.3s, z-index 0.3s;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .post-it:hover {
            transform: scale(1.1) rotate(0deg);
            z-index: 100;
            box-shadow: 5px 5px 15px rgba(0,0,0,0.4);
        }
        
        .post-it img {
            max-width: 100%;
            max-height: 100px;
            display: block;
            margin: 0 auto 10px;
            object-fit: contain;
        }
        
        .post-it p {
            margin: 0;
            font-size: 0.9em;
            text-align: center;
            word-wrap: break-word;
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .lyrics {
            font-style: italic;
        }
    </style>
</head>
<body>
    <!-- Texto central fixo -->
    <div class="central-text">Que bagunça! Tenho que me organizar mais... mas como?</div>

    <script>
        const lyrics = [
            "Q",
            "I know too well I'm Underneath yoUr spell So, darling, if yoU smell something bUrning, it's my heart",
            "when i look at you i can't believe it's true. You're all i ever dreaMed of and you love Me",
            "It's nothing nEw... I wait for you",
            "I don't know what I'm sUpposed to do. HaUnted by the ghost of yoU. Oh, take me back to the night we met",
            "And as the earth burns to the ground, oh, boy, it's you that I lie with, as the atoM boMb locks in.",
            "Don't you give me up, pleAse don't give up on me, I belong with you, And only you, bAby",
            "You look so pretty and I love this vIew",
            "Meu bem, quero arrancar a triSteza de você, vamoS fugir aSSim que a gente Se ver",
            "'CAuse I, I cAn feel A reAl connection, A supernAturAl AttrAction-Ah. I got the feels for you, yeAh, yeAh, yeAh, yeAh",
            "Sei que uM dia eu vou Morrer, saiba que isso taMbéM vale pra você. Mas enquanto esse dia não veM, quero passar todos os outros ao seu lado",
            "I will fall in lOve with you Over and Over again",
            "E",
            "Nossa, como eu amo passar tempo com ele... deveria passar mais.",
            "Queria poder beija-lo, será que algum dia vou poder?",
            "Hm, que saudades.",
            "AIai meu gatinho, que falta de criatividade </3",
            "Eu to perdendo a sanidade aos poucos, desculpa",
            "Oi eu amo meu homem muito muito muito",
            "To achando que nem palavras, melodias ou a combinação podem explicar meu sentimento por ti..."
        ];
        
        // Imagens correspondentes às letras na mesma ordem (sem Q.png e E.png)
        const images = [
            "", // Q - sem imagem
            "assets/images/MasochismTango.png",
            "assets/images/YouLoveMe.png",
            "assets/images/IWaitForYou.png",
            "assets/images/TheNightWeMet.png",
            "assets/images/AsTheWorldCavesIn.png",
            "assets/images/DarkRed.png",
            "assets/images/WeFellInLoveInOctober.png",
            "assets/images/ChaleEmAlaska.png",
            "assets/images/TheFeels.png",
            "assets/images/SerenataExistencialista.png",
            "assets/images/WouldYouFallInLoveWithMeAgain.png",
            "", // E - sem imagem
            "", // Sem imagem para esta frase
            "", // Sem imagem para esta frase
            "", // Sem imagem para esta frase
            "", // Sem imagem para esta frase
            "", // Sem imagem para esta frase
            "", // Sem imagem para esta frase
            ""  // Sem imagem para esta frase
        ];

        // Cores aleatórias para os post-its
        const colors = [
            '#FFFB8F', // Amarelo post-it tradicional
            '#FF9E9E', // Rosa claro
            '#B5EAD7', // Verde menta
            '#C7CEEA', // Azul claro
            '#E2F0CB', // Verde claro
            '#FFDAC1', // Pêssego
            '#F8B195', // Coral
            '#F67280', // Rosa
            '#C06C84', // Lilás
            '#6C5B7B'  // Roxo
        ];
        
        function createPostIt() {
            const centerX = window.innerWidth / 2;
            const centerY = window.innerHeight / 2;
            const minRadius = 200;
            const maxRadius = Math.min(window.innerWidth, window.innerHeight) * 0.4;
            
            for (let i = 0; i < lyrics.length; i++) {
                const postIt = document.createElement('div');
                postIt.className = 'post-it';
                
                // Cor aleatória
                const randomColor = colors[Math.floor(Math.random() * colors.length)];
                postIt.style.backgroundColor = randomColor;
                
                // Cor do texto baseada no brilho do fundo
                const brightness = getBrightness(randomColor);
                postIt.style.color = brightness > 180 ? '#333' : '#fff';
                
                // Rotação aleatória
                const rotation = -5 + Math.random() * 10;
                postIt.style.transform = `rotate(${rotation}deg)`;
                
                // Posição em círculo ao redor do texto central
                const angle = Math.random() * Math.PI * 2;
                const radius = minRadius + Math.random() * (maxRadius - minRadius);
                const left = centerX + Math.cos(angle) * radius - 100; // 100 = metade da largura
                const top = centerY + Math.sin(angle) * radius - 100; // 100 = metade da altura
                
                postIt.style.left = `${left}px`;
                postIt.style.top = `${top}px`;
                
                // Adiciona imagem correspondente se existir
                if (images[i] && images[i] !== "") {
                    const img = document.createElement('img');
                    img.src = images[i];
                    img.alt = "Imagem da música";
                    postIt.appendChild(img);
                }
                
                const lyric = document.createElement('p');
                lyric.className = 'lyrics';
                lyric.textContent = lyrics[i];
                postIt.appendChild(lyric);
                
                // Tornar arrastável
                makeDraggable(postIt);
                
                document.body.appendChild(postIt);
            }
        }
        
        // Função para calcular brilho da cor
        function getBrightness(hexColor) {
            const r = parseInt(hexColor.substr(1, 2), 16);
            const g = parseInt(hexColor.substr(3, 2), 16);
            const b = parseInt(hexColor.substr(5, 2), 16);
            return (r * 299 + g * 587 + b * 114) / 1000;
        }
        
        function makeDraggable(element) {
            let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
            let isDragging = false;
            
            element.onmousedown = dragMouseDown;
            
            function dragMouseDown(e) {
                if (e.target.tagName === 'IMG') {
                    return; // Não inicia arrasto se clicar em uma imagem
                }
                
                e = e || window.event;
                e.preventDefault();
                // get the mouse cursor position at startup:
                pos3 = e.clientX;
                pos4 = e.clientY;
                document.onmouseup = closeDragElement;
                // call a function whenever the cursor moves:
                document.onmousemove = elementDrag;
                isDragging = false;
            }
            
            function elementDrag(e) {
                e = e || window.event;
                e.preventDefault();
                isDragging = true;
                // calculate the new cursor position:
                pos1 = pos3 - e.clientX;
                pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;
                // set the element's new position:
                element.style.top = (element.offsetTop - pos2) + "px";
                element.style.left = (element.offsetLeft - pos1) + "px";
            }
            
            function closeDragElement() {
                // stop moving when mouse button is released:
                document.onmouseup = null;
                document.onmousemove = null;
                
                if (isDragging) {
                    // Se estava arrastando, previne o clique
                    element.style.pointerEvents = 'none';
                    setTimeout(() => {
                        element.style.pointerEvents = 'auto';
                    }, 100);
                }
            }
        }
        
        // Verifica se o usuário digitou a resposta correta na URL
        function checkURL() {
            const path = window.location.pathname.split('/').pop();
            
            if (path === 'Tobi' || path === 'tobi') {
                // Resposta correta - próxima fase
                window.location.href = 'Tobi';
            }
        }
        
        window.onload = function() {
            createPostIt();
            checkURL();
        };
        
        window.onresize = function() {
            // Reorganiza os post-its ao redimensionar a janela
            const postIts = document.querySelectorAll('.post-it');
            if (postIts.length > 0) {
                const centerX = window.innerWidth / 2;
                const centerY = window.innerHeight / 2;
                const minRadius = 200;
                const maxRadius = Math.min(window.innerWidth, window.innerHeight) * 0.4;
                
                postIts.forEach(postIt => {
                    const angle = Math.random() * Math.PI * 2;
                    const radius = minRadius + Math.random() * (maxRadius - minRadius);
                    const left = centerX + Math.cos(angle) * radius - 100;
                    const top = centerY + Math.sin(angle) * radius - 100;
                    
                    postIt.style.left = `${left}px`;
                    postIt.style.top = `${top}px`;
                });
            }
        };
        
        window.onpopstate = checkURL;
    </script>
</body>
</html>
