<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lembre-se</title>
    <link href="https://fonts.googleapis.com/css2?family=Gotham:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'NoteBook', sans-serif;
            background-image: url('assets/images/fundo.png');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            margin: 0;
            padding: 20px;
            overflow: hidden;
            min-height: 100vh;
        }
        
        .central-text {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2.5em;
            font-weight: 700;
            color: black;
            text-align: center;
            z-index: 10;
            pointer-events: none;
            width: 80%;
            max-width: 600px;
            text-shadow: 1px 1px 3px rgba(255, 255, 255, 0.8);
        }
        
        .post-it {
            position: absolute;
            width: 200px;
            height: 200px;
            padding: 15px;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.2);
            cursor: move;
            user-select: none;
            overflow: hidden;
            transition: transform 0.3s, z-index 0.3s;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .post-it:hover {
            transform: scale(1.1) rotate(0deg);
            z-index: 100;
            box-shadow: 8px 8px 20px rgba(0,0,0,0.3);
        }
        
        .post-it img {
            max-width: 100%;
            max-height: 100px;
            display: block;
            margin: 0 auto 10px;
            object-fit: contain;
        }
        
        .post-it p {
            margin: 0;
            font-size: 1em;
            text-align: center;
            word-wrap: break-word;
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Gotham', sans-serif;
        }
        
        .lyrics {
            font-style: italic;
        }
    </style>
</head>
<body>
    <!-- Texto central fixo -->
    <div class="central-text">Que bagunça! Tenho que me organizar mais... mas como?</div>

    <script>
        const lyrics = [
            "Q",
            "I know too well I'm Underneath yoUr spell So, darling, if yoU smell something bUrning, it's my heart",
            "when i look at you i can't believe it's true. You're all i ever dreaMed of and you love Me",
            "It's nothing nEw... I wait for you",
            "I don't know what I'm sUpposed to do. HaUnted by the ghost of yoU. Oh, take me back to the night we met",
            "And as the earth burns to the ground, oh, boy, it's you that I lie with, as the atoM boMb locks in.",
            "Don't you give me up, pleAse don't give up on me, I belong with you, And only you, bAby",
            "You look so pretty and I love this vIew",
            "Meu bem, quero arrancar a triSteza de você, vamoS fugir aSSim que a gente Se ver",
            "'CAuse I, I cAn feel A reAl connection, A supernAturAl AttrAction-Ah. I got the feels for you, yeAh, yeAh, yeAh, yeAh",
            "Sei que uM dia eu vou Morrer, saiba que isso taMbéM vale pra você. Mas enquanto esse dia não veM, quero passar todos os outros ao seu lado",
            "I will fall in lOve with you Over and Over again",
            "E",
            "Nossa, como eu amo passar tempo com ele... deveria passar mais.",
            "Queria poder beija-lo, será que algum dia vou poder?",
            "Hm, que saudades.",
            "AIai meu gatinho, que falta de criatividade </3",
            "Eu to perdendo a sanidade aos poucos, desculpa",
            "Oi eu amo meu homem muito muito muito",
            "To achando que nem palavras, melodias ou a combinação podem explicar meu sentimento por ti..."
        ];
        
        const images = [
            "",
            "assets/images/MasochismTango.png",
            "assets/images/YouLoveMe.png",
            "assets/images/IWaitForYou.png",
            "assets/images/TheNightWeMet.png",
            "assets/images/AsTheWorldCavesIn.png",
            "assets/images/DarkRed.png",
            "assets/images/WeFellInLoveInOctober.png",
            "assets/images/ChaleEmAlaska.png",
            "assets/images/TheFeels.png",
            "assets/images/SerenataExistencialista.png",
            "assets/images/WouldYouFallInLoveWithMeAgain.png",
            "",
            "",
            "",
            "",
            "",
            "",
            "",
            ""
        ];

        const colors = [
            '#FFFB8F',
            '#FF9E9E',
            '#B5EAD7',
            '#C7CEEA',
            '#E2F0CB',
            '#FFDAC1',
            '#F8B195',
            '#F67280',
            '#C06C84',
            '#6C5B7B'
        ];
        
        function createPostIt() {
            const postIts = [];
            const centerX = window.innerWidth / 2;
            const centerY = window.innerHeight / 2;
            const minRadius = 250;
            const maxRadius = Math.min(window.innerWidth, window.innerHeight) * 0.45;
            const spacing = 220;
            
            for (let i = 0; i < lyrics.length; i++) {
                let attempts = 0;
                let validPosition = false;
                let left, top;
                
                while (!validPosition && attempts < 100) {
                    attempts++;
                    
                    const angle = Math.random() * Math.PI * 2;
                    const radius = minRadius + Math.random() * (maxRadius - minRadius);
                    left = centerX + Math.cos(angle) * radius - 100;
                    top = centerY + Math.sin(angle) * radius - 100;
                    
                    validPosition = true;
                    for (const other of postIts) {
                        const dx = left - other.left;
                        const dy = top - other.top;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        
                        if (distance < spacing) {
                            validPosition = false;
                            break;
                        }
                    }
                }
                
                if (!validPosition) {
                    left = Math.random() * (window.innerWidth - 200);
                    top = Math.random() * (window.innerHeight - 200);
                }
                
                const postIt = document.createElement('div');
                postIt.className = 'post-it';
                
                const randomColor = colors[Math.floor(Math.random() * colors.length)];
                postIt.style.backgroundColor = randomColor;
                
                const brightness = getBrightness(randomColor);
                postIt.style.color = brightness > 180 ? '#333' : '#fff';
                
                const rotation = -10 + Math.random() * 20;
                postIt.style.transform = `rotate(${rotation}deg)`;
                
                postIt.style.left = `${left}px`;
                postIt.style.top = `${top}px`;
                
                if (images[i] && images[i] !== "") {
                    const img = document.createElement('img');
                    img.src = images[i];
                    img.alt = "Imagem da música";
                    postIt.appendChild(img);
                }
                
                const lyric = document.createElement('p');
                lyric.className = 'lyrics';
                lyric.textContent = lyrics[i];
                postIt.appendChild(lyric);
                
                makeDraggable(postIt);
                
                document.body.appendChild(postIt);
                postIts.push({ left, top });
            }
        }
        
        function getBrightness(hexColor) {
            const r = parseInt(hexColor.substr(1, 2), 16);
            const g = parseInt(hexColor.substr(3, 2), 16);
            const b = parseInt(hexColor.substr(5, 2), 16);
            return (r * 299 + g * 587 + b * 114) / 1000;
        }
        
        function makeDraggable(element) {
            let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
            let isDragging = false;
            let startX, startY;
            
            element.onmousedown = dragMouseDown;
            
            function dragMouseDown(e) {
                if (e.target.tagName === 'IMG') {
                    return;
                }
                
                e = e || window.event;
                e.preventDefault();
                pos3 = e.clientX;
                pos4 = e.clientY;
                startX = e.clientX;
                startY = e.clientY;
                document.onmouseup = closeDragElement;
                document.onmousemove = elementDrag;
                isDragging = false;
                element.style.zIndex = 100;
            }
            
            function elementDrag(e) {
                e = e || window.event;
                e.preventDefault();
                
                if (!isDragging && (Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5)) {
                    isDragging = true;
                }
                
                pos1 = pos3 - e.clientX;
                pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;
                element.style.top = (element.offsetTop - pos2) + "px";
                element.style.left = (element.offsetLeft - pos1) + "px";
            }
            
            function closeDragElement() {
                document.onmouseup = null;
                document.onmousemove = null;
                
                if (isDragging) {
                    element.style.pointerEvents = 'none';
                    setTimeout(() => {
                        element.style.pointerEvents = 'auto';
                    }, 100);
                }
                
                setTimeout(() => {
                    element.style.zIndex = '';
                }, 300);
            }
        }
        
        function checkURL() {
            const path = window.location.pathname.split('/').pop();
            
            if (path === 'Tobi' || path === 'tobi') {
                window.location.href = 'Tobi';
            }
        }
        
        window.onload = function() {
            createPostIt();
            checkURL();
        };
        
        window.onresize = function() {
            const postItElements = document.querySelectorAll('.post-it');
            if (postItElements.length > 0) {
                document.querySelectorAll('.post-it').forEach(el => el.remove());
                createPostIt();
            }
        };
        
        window.onpopstate = checkURL;
    </script>
</body>
</html>
